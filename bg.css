:root{
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

*{ box-sizing:border-box; }

html, body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  overflow:hidden;            /* 스크롤 금지 */
  overscroll-behavior:none;   /* 탄성 스크롤 방지 */
  background:#0b0f16;
  touch-action:none;          /* 화면 이동/줌 제스처 최소화 */
  -webkit-tap-highlight-color: transparent;
  font-family: ui-sans-serif, system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", Arial, sans-serif;
}

#bg, #fg{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
}

#bg{
  z-index:0;
  pointer-events:none;
}

/* 베이스 그라데이션 */
.bg-base{
  position:absolute;
  inset:-20%;
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(110,190,255,0.18), transparent 60%),
    radial-gradient(900px 700px at 80% 20%, rgba(255,140,200,0.14), transparent 58%),
    radial-gradient(1000px 900px at 40% 90%, rgba(150,255,210,0.10), transparent 60%),
    linear-gradient(180deg, #0b0f16 0%, #070a10 100%);
  filter: url(#softBlur);
  transform: translateZ(0);
}

/* 카우스틱 느낌(과한 줄무늬 방지 위해 부드럽게) */
.bg-caustics{
  position:absolute;
  inset:-10%;
  background:
    radial-gradient(closest-side at 30% 40%, rgba(255,255,255,0.06), transparent 65%),
    radial-gradient(closest-side at 70% 55%, rgba(255,255,255,0.05), transparent 68%),
    radial-gradient(closest-side at 45% 70%, rgba(255,255,255,0.04), transparent 70%);
  opacity:0.75;
  filter: url(#glassDisplace);
  transform: translateZ(0);
}

/* 아이폰 “리퀴드 글래스” 패널 */
.bg-glass-panel{
  position:absolute;
  inset: calc(var(--safe-top) + 18px) 18px calc(var(--safe-bottom) + 18px) 18px;
  border-radius: 28px;
  background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.05));
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow:
    0 18px 60px rgba(0,0,0,0.45),
    inset 0 1px 0 rgba(255,255,255,0.18);
  backdrop-filter: blur(18px) saturate(1.25);
  -webkit-backdrop-filter: blur(18px) saturate(1.25);
}

/* 살짝 비네팅 */
.bg-vignette{
  position:absolute;
  inset:0;
  background: radial-gradient(120% 100% at 50% 30%, transparent 40%, rgba(0,0,0,0.35) 100%);
  pointer-events:none;
}

/* 전경 */
#fg{
  z-index:1;
  pointer-events:none; /* 캔버스 터치로 스크롤/드래그 없게 */
}

#gl{
  width:100%;
  height:100%;
  display:block;
}

/* UI */
#ui{
  position:fixed;
  left:0; right:0;
  top:0;
  z-index:2;
  padding: calc(var(--safe-top) + 18px) 18px 12px 18px;
  display:flex;
  flex-direction:column;
  gap:10px;
  align-items:flex-start;
  pointer-events:auto;
}

#startBtn{
  appearance:none;
  border:1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.12);
  color: rgba(255,255,255,0.92);
  padding: 10px 14px;
  border-radius: 14px;
  font-weight:600;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

#hint, #status{
  color: rgba(255,255,255,0.78);
  font-size: 13px;
  line-height: 1.2;
  text-shadow: 0 6px 20px rgba(0,0,0,0.35);
}

#status{
  color: rgba(255,255,255,0.85);
}
